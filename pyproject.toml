[tool.poetry]
name = "ni-python-styleguide"
version = "0.1.0"
description = "NI's internal and external Python linter rules and plugins"
authors = ["NI <opensource@ni.com>"]
license = "MIT"
include = ["ni_python_styleguide/flakehell_config.toml"]

[tool.poetry.dependencies]
python = "^3.6"
flake8 = "^3.8.3"

# @TODO: flakehell's dependencies.
# Since we're vendoring flakehell, these are required here.
pygments = "*"
pylint = "*"
termcolor = "*"
toml = "*"
urllib3 = "*"

# flake8 plugins should be listed here (in alphabetical order)

# Rejected flake8 plugins should be listed here (in alphabetical order)
# Also describe why it is rejected and/or add a link

[tool.poetry.dev-dependencies]
pytest = "^6.0.1"

[tool.poetry.scripts]
ni-python-styleguide = 'ni_python_styleguide.__main__:main'

# @TODO: flakehell's entrypoints
[tool.poetry.plugins."flake8.extension"]
pylint = "ni_python_styleguide._vendor.flakehell.plugins:PyLintChecker"

# @TODO: flakehell's entrypoints
[tool.poetry.plugins."flake8.report"]
baseline = "ni_python_styleguide._vendor.flakehell.formatters:BaseLineFormatter"
colored = "ni_python_styleguide._vendor.flakehell.formatters:ColoredFormatter"
gitlab = "ni_python_styleguide._vendor.flakehell.formatters:GitlabFormatter"
grouped = "ni_python_styleguide._vendor.flakehell.formatters:GroupedFormatter"
json = "ni_python_styleguide._vendor.flakehell.formatters:JSONFormatter"
stat = "ni_python_styleguide._vendor.flakehell.formatters:StatFormatter"

[tool.flakehell]
exclude = ["ni_python_styleguide/_vendor", ".venv", "docs"]
show_source = true

[tool.pytest.ini_options]
addopts = "--doctest-modules --ignore-glob='ni_python_styleguide/**'"

[build-system]
requires = ["poetry>=0.12"]
build-backend = "poetry.masonry.api"
